<html>
  <head> </head>
  <body>
    <div class="div"></div>
  </body>
  <script src="../../../lib/index.js"></script>
  <script type="text/babel">
    ref: a = 1
    function jsx(tag, props, children) {
      const el = document.createElement(tag)
      for (const [k, v] of Object.entries(props)) {
        el[k] = v
      }
      for (const child of children) {
        if (typeof child === 'object') {
          el.appendChild(child)
        } else el.innerHTML += child
      }
      document.body.appendChild(el)
      return el
    }
    ;(() => {
      const el = document.createElement('div')
      frame.effect(() => {
        for (const [k, v] of Object.entries({ id: 'div', onclick: () => console.log('a') })) {
          el[k] = v
        }
      })
      frame.effect(() => {
        for (const child of [a * 2]) {
          if (typeof child === 'object') {
            el.appendChild(child)
          } else el.innerHTML = child
        }
      })
      document.body.appendChild(el)
    })()
    jsx('button', { id: 'btn', onclick: () => a++ }, ['btn'])
  </script>
  <script></script>
</html>
