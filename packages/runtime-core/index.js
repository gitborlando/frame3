var d={element:"element",textNode:"textNode",fragment:"fragment",component:"component"},w={beforeMount:"beforeMount",mounted:"mounted",beforeUpdate:"beforeUpdate",updated:"updated",beforeUnMount:"beforeUnMount",unMounted:"unMounted"};var A=null;function C(e){A=e}function B(){return Object.fromEntries(Object.keys(w).map(e=>[e,new Set]))}function N(e){return n=>e.lifeCycles[n].forEach(t=>t())}function Z(e){I("beforeMount",e)}function ee(e){I("mounted",e)}function ne(e){I("beforeUpdate",e)}function te(e){I("updated",e)}function oe(e){I("beforeUnMount",e)}function re(e){I("unMounted",e)}function I(e,n){A?.lifeCycles[e].add(n)}var V=new Set,ce=Promise.resolve(),k="Leaved a Tick",H=null;function $(e){V.has(e)||(V.add(e),ie())}function ie(){k!=="Entered a Tick"&&(H=ce.then(ae),k="Entered a Tick")}function ae(){try{V.forEach(e=>e())}finally{k="Leaved a Tick",V.clear(),H=null}}var l={string:e=>Object.prototype.toString.call(e)==="[object String]",number:e=>Object.prototype.toString.call(e)==="[object Number]",boolean:e=>Object.prototype.toString.call(e)==="[object Boolean]",undefined:e=>Object.prototype.toString.call(e)==="[object Undefined]",null:e=>Object.prototype.toString.call(e)==="[object Null]",function:e=>Object.prototype.toString.call(e)==="[object Function]",object:e=>Object.prototype.toString.call(e)==="[object Object]",array:e=>Object.prototype.toString.call(e)==="[object Array]",multi(e,n){return n.split("|").some(t=>this[t.trim()]?.(e))}},u={component:e=>e?.type===d.component,fragment:e=>e?.type===d.fragment,element:e=>e?.type===d.element,textNode:e=>e?.type===d.textNode};function s(e){return function n(t){return new Proxy(t,{get(r,o){D(r,o);let c=Reflect.get(r,o);return typeof c=="object"?n(c):c},set(r,o,c){return Reflect.set(r,o,c),K(r,o),K(r,E),!0}})}({value:e})}function L(e){return e}var g,F=[],b=new WeakMap;function D(e,n){if(!g)return;if(l.array(e)){if(n==="length")return;n=n===E?n:"length"}b.get(e)||b.set(e,new Map);let t=b.get(e);t?.get(n)||t.set(n,new Set),t.get(n).add(g)}var E=Symbol("manual-track-object-key");function ue(e){return D(e,E),e}function K(e,n){if(!e.hasOwnProperty(n)||n==="length")return;if(l.array(e)){if(n==="length")return;n=n===E?n:"length"}b.get(e)?.get(n)?.forEach(o=>{o!==g&&(o.scheduler?o.scheduler(o):o())})}function x(e,n){let t=Object.assign(()=>{try{if(!t.active)return;F.push(g=t),e(n)}finally{F.pop(),g=F.slice(-1)[0]}},{active:!0,scheduler:n?.scheduler||$});return t(),t}function le(e){let n=s("");return x(()=>n.value=e()),n}function se(e){return e()}function pe(e){return s()}function fe(e){return L()}function P(e){let{jsxTag:n,props:t,children:r}=e,o=e.componentInstance={isMounted:!1,props:{...t,children:r},lifeCycles:B()};C(o);let c=n(o.props);o.update=x(()=>{let i=c(),a=N(o);i.children=M(i.children),o.isMounted?(a("beforeUpdate"),y(o.subVnode,i),a("updated")):(a("beforeMount"),p(i),a("mounted"),o.isMounted=!0),e.el=i.el,o.subVnode=i,C(null)}),o.passiveUpdate=(i,a)=>{o.props={...i,children:a},C(o),c=n(o.props),o.update()},t.hasOwnProperty("ref")&&(t.ref.value=o)}function J(e,n){n.componentInstance=e.componentInstance,!de(e.props,n.props)&&n.componentInstance.passiveUpdate(n.props,n.children)}function q({componentInstance:e}){if(!e)return;let n=N(e);n("beforeUnMount"),T(e.subVnode),e.update.active=!1,n("unMounted")}function de(e,n){return Object.keys(n).every(t=>e[t]===n[t])}function S(e,n){e.children[0]?.key&&n.children[0]?.key?Ie(e.children,n.children):me(e.children,n.children)}function me(e,n){let t=e.length,r=n.length,o=Math.min(t,r);for(let c=0;c<o;c++)y(e[c],n[c]);if(r>t)return n.slice(o).forEach(c=>p(c));if(t>r)return e.slice(o).forEach(c=>T(c))}function Ie(e,n){let t=0,r=e.length-1,o=n.length-1;for(;t<=r&&t<=o&&Q(e[t],n[t]);)y(e[t],n[t]),t++;for(;t<=r&&t<=o&&Q(e[r],n[o]);)y(e[t],n[t]),r--,o--;if(t>r)for(let c=t;c<=o;c++)p(n[c]);if(t>o)for(let c=t;c<=o;c++)T(e[c])}function Q(e,n){return e.type===n.type&&e.key===n.key}function h(e){v?.insertBefore(e,O)}function W(e,n=v){n&&(n.textContent=e)}function j(e){e?.remove()}var v,O;function R(){return{currentParentEl:v,currentAnchorEl:O}}function m({currentParentEl:e,currentAnchorEl:n}){let{currentParentEl:t,currentAnchorEl:r}=R();return e&&(v=e),O=n||null,function(){m({currentParentEl:t,currentAnchorEl:r})}}function U(e,n,t){let r=e?e.props:{},o=n.props,c=Object.entries(o).map(([i,a])=>i in r?r[i]!==a?[i,a]:void 0:[i,a]).filter(Boolean);for(let[i,a]of c)if(i.startsWith("on"))t.addEventListener(i.slice(2).toLocaleLowerCase(),a);else if(i==="style"){let G=Object.entries(a).map(([X,Y])=>`${X}: ${Y}`).join(";");t.setAttribute("style",G)}else i==="ref"?a.value=t:i.match(/className|class/)?t.className=a:i==="scope-id"?t.setAttribute(`scope-${a}`,""):t.setAttribute(i,a)}function f(e,n={},t=[]){let r={props:n,children:t,el:null,key:n.key},{textNode:o,component:c,fragment:i,element:a}=d;return e===0?{type:o,jsxTag:e,...r}:l.function(e)?{type:c,jsxTag:e,componentInstance:null,...r}:(r.children=M(r.children),l.array(e)?{type:i,jsxTag:e,anchor:null,...r}:{type:a,jsxTag:e,...r})}function M(e){let n=[];return e.forEach(t=>{if(l.multi(t,"string|number"))return n.push(f(0,{},[t]));if(l.multi(t,"undefined|null"))return n.push(f(0,{},[""]));if(l.array(t))return n.push(f([],{},M(t)));n.push(t)}),n}function p(e){if(u.component(e))return P(e);if(u.fragment(e))return xe(e);if(u.element(e))return ge(e);if(u.textNode(e))return Ce(e)}function y(e,n){if(u.component(n)&&u.component(e))return J(e,n);if(u.fragment(n)&&u.fragment(e))return ye(e,n);if(u.element(n)&&u.element(e))return he(e,n);if(u.textNode(n)&&u.textNode(e))return Ve(e,n);T(e),p(n)}function T(e){return u.component(e)?q(e):u.fragment(e)?Te(e):j(e?.el)}function xe(e){let n=e.el=document.createTextNode(""),t=e.anchor=document.createTextNode("");h(n),h(t);let{currentParentEl:r}=R();for(let o of e.children)m({currentAnchorEl:t,currentParentEl:r}),p(o)}function ye(e,n){let t=(n.el=e.el)?.parentElement,r=n.anchor=e.anchor,o=m({currentAnchorEl:r,currentParentEl:t});S(e,n),o()}function Te(e){let{el:n,anchor:t}=e;for(;n!==t;){let r=n?.nextSibling;j(n),n=r}j(t)}function ge(e){let n=document.createElement(e.jsxTag);U(null,e,n),h(e.el=n);for(let t of e.children)m({currentParentEl:n}),p(t)}function he(e,n){let t=n.el=e.el;if(!t)return;U(e,n,t);let r=m({currentParentEl:t});S(e,n),r()}function Ce(e){let n=document.createTextNode(e.children[0].toString());h(e.el=n)}function Ve(e,n){let t=n.el=e.el,r=e.children[0].toString(),o=n.children[0].toString();o!==r&&W(o,t||void 0)}function be(e,n){m({currentParentEl:n}),P(f(e,{},[]))}var _=s(z());window.addEventListener("hashchange",e=>{_.value=z()});function Ee({path:e,component:n}){let t=s(),r=s(!1);return x(()=>{let{isMatch:o,params:c}=Me(e,_.value);r.value=o,t.value=c}),()=>f([],{},r.value?[f(n,t.value,[])]:[])}function Me(e,n){if(!/:\w+/.test(e))return{isMatch:e===n,params:{}};let t="",r=e.replace(/(.*)(:\w+)/,(c,i,a)=>(t=a.slice(1),i+"(.*)")),o=n.match(new RegExp(r));return{isMatch:!!o,params:{[t]:o?.[1]}}}function z(){return location.hash.slice(1).replace(/\/$/,"")}export{se as $computed,L as $reactive,fe as $ref,Ee as Router,le as computed,x as effect,f as h,ue as manualTrack,be as mount,Z as onBeforeMount,oe as onBeforeUnMount,ne as onBeforeUpdate,ee as onMounted,re as onUnMounted,te as onUpdated,s as reactive,pe as ref};
